<!-- Language Selector Component -->
<div class="form-field language-selector-field" data-field="preferred_language">
    <!-- Only show label in forms, not in header -->
    <label for="{{form_prefix}}_preferred_language" 
           data-i18n="modal.form.preferred_language" 
           class="{{form_prefix !== 'header' ? '' : 'sr-only'}}">
        Preferred Language
    </label>
    
    <div class="select-wrapper flag-select-wrapper {{form_prefix === 'header' ? 'header-select-wrapper' : ''}}">
        <select id="{{form_prefix}}_preferred_language" 
                name="{{form_prefix !== 'header' ? 'preferred_language' : ''}}" 
                class="{{form_prefix === 'header' ? 'header-language-select' : 'form-language-select'}} flag-enabled"
                aria-label="{{form_prefix === 'header' ? 'Select Language' : ''}}"
                aria-describedby="{{form_prefix !== 'header' ? form_prefix + '_language_description' : ''}}">
            <option value="en" data-flag="ğŸ‡ºğŸ‡¸" data-i18n="{{form_prefix === 'header' ? 'language.english' : 'modal.form.language.english'}}">English</option>
            <option value="la_es" data-flag="ğŸ‡²ğŸ‡½" data-i18n="{{form_prefix === 'header' ? 'language.spanish_latam' : 'modal.form.language.spanish_latam'}}">EspaÃ±ol (AmÃ©rica Latina)</option>
            <option value="br" data-flag="ğŸ‡§ğŸ‡·" data-i18n="{{form_prefix === 'header' ? 'language.portuguese_brazil' : 'modal.form.language.portuguese_brazil'}}">PortuguÃªs (Brasil)</option>
            <option value="es" data-flag="ğŸ‡ªğŸ‡¸" data-i18n="{{form_prefix === 'header' ? 'language.spanish' : 'modal.form.language.spanish'}}">EspaÃ±ol (EspaÃ±a)</option>
            <option value="tw" data-flag="ğŸ‡¬ğŸ‡­" data-i18n="{{form_prefix === 'header' ? 'language.twi' : 'modal.form.language.twi'}}">Twi</option>
            <option value="zh" data-flag="ğŸ‡¨ğŸ‡³" data-i18n="{{form_prefix === 'header' ? 'language.chinese' : 'modal.form.language.chinese'}}">ä¸­æ–‡</option>
            <option value="ko" data-flag="ğŸ‡°ğŸ‡·" data-i18n="{{form_prefix === 'header' ? 'language.korean' : 'modal.form.language.korean'}}">í•œêµ­ì–´</option>
            <option value="hy" data-flag="ğŸ‡¦ğŸ‡²" data-i18n="{{form_prefix === 'header' ? 'language.armenian' : 'modal.form.language.armenian'}}">Õ€Õ¡ÕµÕ¥Ö€Õ¥Õ¶</option>
            <option value="he" data-flag="ğŸ‡®ğŸ‡±" data-i18n="{{form_prefix === 'header' ? 'language.hebrew' : 'modal.form.language.hebrew'}}">×¢×‘×¨×™×ª</option>
            <option value="ru" data-flag="ğŸ‡·ğŸ‡º" data-i18n="{{form_prefix === 'header' ? 'language.russian' : 'modal.form.language.russian'}}">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
            <option value="fa" data-flag="ğŸ‡®ğŸ‡·" data-i18n="{{form_prefix === 'header' ? 'language.farsi' : 'modal.form.language.farsi'}}">ÙØ§Ø±Ø³ÛŒ</option>
            <option value="ar" data-flag="ğŸ‡¸ğŸ‡¦" data-i18n="{{form_prefix === 'header' ? 'language.arabic' : 'modal.form.language.arabic'}}">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="lg" data-flag="ğŸ‡ºğŸ‡¬" data-i18n="{{form_prefix === 'header' ? 'language.luganda' : 'modal.form.language.luganda'}}">Oluganda</option>
        </select>
        <div class="select-icon-container {{form_prefix === 'header' ? 'header-select-icon-container' : 'form-select-icon-container'}}">
            <span class="select-icon"></span>
        </div>
        <span class="flag-display {{form_prefix === 'header' ? 'header-flag-display' : 'form-flag-display'}}" aria-hidden="true">ğŸ‡ºğŸ‡¸</span>
    </div>
    
    <!-- Language description as tooltip (hidden by default, shown on hover/focus) -->
    <div class="language-tooltip-container">
        <div id="{{form_prefix}}_language_description" 
             class="field-description tooltip-text" 
             data-i18n="modal.form.language_description"
             style="display: none;">
            <div class="tooltip-arrow"></div>
            <div class="tooltip-content">
                Select the language you prefer for communication with our staff
            </div>
        </div>
    </div>
</div>
